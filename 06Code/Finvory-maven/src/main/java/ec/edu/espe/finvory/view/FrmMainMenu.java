package ec.edu.espe.finvory.view;

import ec.edu.espe.finvory.controller.FinvoryController;
import ec.edu.espe.finvory.utils.UiUtilis;

/**
 *
 * @author Mathews Pastor, The POOwer Rangers Of Programming
 */
public class FrmMainMenu extends javax.swing.JFrame {

    FinvoryController controller;

    public FrmMainMenu(FinvoryController controller) {
        initComponents();
        this.controller = controller;
        this.setLocationRelativeTo(null);
        UiUtilis.startClock(lblClock);
        UiUtilis.setStatusText(lblStatus, controller.data.getCompanyInfo().getName());

        UiUtilis.applyHeaderStyle(null, lblWelcome, controller.data.getCompanyInfo().getUsername(), controller.data.getCompanyInfo().getName());

        UiUtilis.applyWatermark(lblIcon,getClass().getResource("/FinvoryCorner.jpeg"),600, 400, 0.1f);
        setIconImage(java.awt.Toolkit.getDefaultToolkit().getImage(getClass().getResource("/FinvoryCorner.jpeg")));
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();
        lblWelcome = new javax.swing.JLabel();
        lblIcon = new javax.swing.JLabel();
        lblStatus = new javax.swing.JLabel();
        lblClock = new javax.swing.JLabel();
        jMenuBar1 = new javax.swing.JMenuBar();
        jMenu4 = new javax.swing.JMenu();
        itemProfile = new javax.swing.JMenuItem();
        itemQuit = new javax.swing.JMenuItem();
        itemClose = new javax.swing.JMenuItem();
        jMenu1 = new javax.swing.JMenu();
        MnuCustomer = new javax.swing.JMenuItem();
        itemInventories = new javax.swing.JMenuItem();
        itemSuppliers = new javax.swing.JMenuItem();
        jMenu2 = new javax.swing.JMenu();
        itemPrices = new javax.swing.JMenuItem();
        cmbSalesReport = new javax.swing.JMenu();
        itemSalesReport = new javax.swing.JMenuItem();
        itemCustomersReport = new javax.swing.JMenuItem();
        itemSuppliersReport = new javax.swing.JMenuItem();
        jMenu3 = new javax.swing.JMenu();
        itemNewSale = new javax.swing.JMenuItem();
        MnuAbout = new javax.swing.JMenu();
        itemFinvory = new javax.swing.JMenuItem();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        jLabel1.setFont(new java.awt.Font("SansSerif", 1, 14)); // NOI18N
        jLabel1.setText("FINVORY | System Inventory Management");

        lblWelcome.setFont(new java.awt.Font("SansSerif", 1, 12)); // NOI18N

        jMenu4.setText("Finvory");

        itemProfile.setText("Mi Perfil");
        itemProfile.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                itemProfileActionPerformed(evt);
            }
        });
        jMenu4.add(itemProfile);

        itemQuit.setText("Salir");
        itemQuit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                itemQuitActionPerformed(evt);
            }
        });
        jMenu4.add(itemQuit);

        itemClose.setText("Cerrar Programa");
        itemClose.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                itemCloseActionPerformed(evt);
            }
        });
        jMenu4.add(itemClose);

        jMenuBar1.add(jMenu4);

        jMenu1.setText("Gestion");

        MnuCustomer.setText("Clientes");
        MnuCustomer.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                MnuCustomerActionPerformed(evt);
            }
        });
        jMenu1.add(MnuCustomer);

        itemInventories.setText("Inventarios");
        itemInventories.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                itemInventoriesActionPerformed(evt);
            }
        });
        jMenu1.add(itemInventories);

        itemSuppliers.setText("Proveedores");
        itemSuppliers.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                itemSuppliersActionPerformed(evt);
            }
        });
        jMenu1.add(itemSuppliers);

        jMenuBar1.add(jMenu1);

        jMenu2.setText("Administracion");

        itemPrices.setText("Precios");
        itemPrices.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                itemPricesActionPerformed(evt);
            }
        });
        jMenu2.add(itemPrices);

        cmbSalesReport.setText("Reportes");

        itemSalesReport.setText("Reporte de Ventas");
        itemSalesReport.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                itemSalesReportActionPerformed(evt);
            }
        });
        cmbSalesReport.add(itemSalesReport);

        itemCustomersReport.setText("Reporte de Clientes");
        itemCustomersReport.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                itemCustomersReportActionPerformed(evt);
            }
        });
        cmbSalesReport.add(itemCustomersReport);

        itemSuppliersReport.setText("Reporte de Proveedores");
        itemSuppliersReport.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                itemSuppliersReportActionPerformed(evt);
            }
        });
        cmbSalesReport.add(itemSuppliersReport);

        jMenu2.add(cmbSalesReport);

        jMenuBar1.add(jMenu2);

        jMenu3.setText("Ventas");

        itemNewSale.setText("Nueva Venta");
        itemNewSale.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                itemNewSaleActionPerformed(evt);
            }
        });
        jMenu3.add(itemNewSale);

        jMenuBar1.add(jMenu3);

        MnuAbout.setText("Acerca de");

        itemFinvory.setText("Finvory");
        itemFinvory.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                itemFinvoryActionPerformed(evt);
            }
        });
        MnuAbout.add(itemFinvory);

        jMenuBar1.add(MnuAbout);

        setJMenuBar(jMenuBar1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 379, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(191, 191, 191))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                        .addGap(16, 16, 16)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(lblWelcome, javax.swing.GroupLayout.PREFERRED_SIZE, 706, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 14, Short.MAX_VALUE))
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(lblStatus, javax.swing.GroupLayout.PREFERRED_SIZE, 371, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(lblClock, javax.swing.GroupLayout.PREFERRED_SIZE, 142, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(lblIcon, javax.swing.GroupLayout.PREFERRED_SIZE, 661, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(62, 62, 62))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel1)
                .addGap(12, 12, 12)
                .addComponent(lblWelcome, javax.swing.GroupLayout.PREFERRED_SIZE, 16, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(lblIcon, javax.swing.GroupLayout.PREFERRED_SIZE, 418, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(lblStatus, javax.swing.GroupLayout.DEFAULT_SIZE, 21, Short.MAX_VALUE)
                    .addComponent(lblClock, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(14, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void itemInventoriesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_itemInventoriesActionPerformed
        onOpenInventories();
    }//GEN-LAST:event_itemInventoriesActionPerformed

    private void itemQuitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_itemQuitActionPerformed
        onQuitToLogin();
    }//GEN-LAST:event_itemQuitActionPerformed

    private void itemSuppliersActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_itemSuppliersActionPerformed
        onOpenSuppliers();
    }//GEN-LAST:event_itemSuppliersActionPerformed

    private void itemPricesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_itemPricesActionPerformed
        onOpenPrices();
    }//GEN-LAST:event_itemPricesActionPerformed

    private void MnuCustomerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_MnuCustomerActionPerformed
        onOpenCustomers();
    }//GEN-LAST:event_MnuCustomerActionPerformed

    private void itemNewSaleActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_itemNewSaleActionPerformed
        onOpenNewSale();
    }//GEN-LAST:event_itemNewSaleActionPerformed

    private void itemCloseActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_itemCloseActionPerformed
        onCloseProgram();
    }//GEN-LAST:event_itemCloseActionPerformed

    private void itemSalesReportActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_itemSalesReportActionPerformed
        onOpenSalesReport();
    }//GEN-LAST:event_itemSalesReportActionPerformed

    private void itemFinvoryActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_itemFinvoryActionPerformed
        onOpenAbout();
    }//GEN-LAST:event_itemFinvoryActionPerformed

    private void itemProfileActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_itemProfileActionPerformed
        onOpenProfile();
    }//GEN-LAST:event_itemProfileActionPerformed

    private void itemCustomersReportActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_itemCustomersReportActionPerformed
        onOpenCustomersReport();
    }//GEN-LAST:event_itemCustomersReportActionPerformed

    private void itemSuppliersReportActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_itemSuppliersReportActionPerformed
        onOpenSuppliersReport();
    }//GEN-LAST:event_itemSuppliersReportActionPerformed

    private void openAndHide(javax.swing.JFrame frame) {
        frame.addWindowListener(new java.awt.event.WindowAdapter() {
            @Override
            public void windowClosed(java.awt.event.WindowEvent e) {
                FrmMainMenu.this.setVisible(true);
            }
        });
        frame.setVisible(true);
        FrmMainMenu.this.setVisible(false);
    }

    private void onOpenInventories() {
        openAndHide(new FrmInventories(this.controller));
    }

    private void onOpenSuppliers() {
        openAndHide(new FrmSuppliers(this.controller.supplierController, this.controller));
    }

    private void onOpenPrices() {
        openAndHide(new FrmPrices(this.controller));
    }

    private void onOpenCustomers() {
        if (this.controller == null) {
            System.out.println("Error: El controlador en MainMenu es null");
            return;
        }
        openAndHide(new FrmCustomers(this.controller.customerController, this.controller));
    }

    private void onOpenNewSale() {
        openAndHide(new FrmSaleInvoice(this.controller));
    }

    private void onOpenSalesReport() {
        openAndHide(new FrmSalesReport(this.controller));
    }

    private void onOpenCustomersReport() {
        openAndHide(new FrmCustomersReport(this.controller));
    }

    private void onOpenSuppliersReport() {
        openAndHide(new FrmSuppliersReport(this.controller));
    }

    private void onOpenProfile() {
        openAndHide(new FrmProfileCompany(this.controller));
    }

    private void onQuitToLogin() {
        FrmLogin win = new FrmLogin(this.controller);
        win.setVisible(true);
        this.dispose();
    }

    private void onCloseProgram() {
        System.exit(0);
    }

    private void onOpenAbout() {
        FrmAbout about = new FrmAbout();
        about.setVisible(true);
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JMenu MnuAbout;
    private javax.swing.JMenuItem MnuCustomer;
    private javax.swing.JMenu cmbSalesReport;
    private javax.swing.JMenuItem itemClose;
    private javax.swing.JMenuItem itemCustomersReport;
    private javax.swing.JMenuItem itemFinvory;
    private javax.swing.JMenuItem itemInventories;
    private javax.swing.JMenuItem itemNewSale;
    private javax.swing.JMenuItem itemPrices;
    private javax.swing.JMenuItem itemProfile;
    private javax.swing.JMenuItem itemQuit;
    private javax.swing.JMenuItem itemSalesReport;
    private javax.swing.JMenuItem itemSuppliers;
    private javax.swing.JMenuItem itemSuppliersReport;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JMenu jMenu1;
    private javax.swing.JMenu jMenu2;
    private javax.swing.JMenu jMenu3;
    private javax.swing.JMenu jMenu4;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JLabel lblClock;
    private javax.swing.JLabel lblIcon;
    private javax.swing.JLabel lblStatus;
    private javax.swing.JLabel lblWelcome;
    // End of variables declaration//GEN-END:variables
}
